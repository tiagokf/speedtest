<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
<meta charset="UTF-8" />
<script type="text/javascript" src="speedtest.js"></script>
<script type="text/javascript">
function I(i){return document.getElementById(i);}

//LIST OF TEST SERVERS. Leave empty if you're doing a standalone installation. See documentation for details
var SPEEDTEST_SERVERS=[
	/*{	//this server doesn't actually exist, remove it
		name:"Example Server 1", //user friendly name for the server
		server:"//test1.mydomain.com/", //URL to the server. // at the beginning will be replaced with http:// or https:// automatically
		dlURL:"backend/garbage.php",  //path to download test on this server (garbage.php or replacement)
		ulURL:"backend/empty.php",  //path to upload test on this server (empty.php or replacement)
		pingURL:"backend/empty.php",  //path to ping/jitter test on this server (empty.php or replacement)
		getIpURL:"backend/getIP.php"  //path to getIP on this server (getIP.php or replacement)
	},
	{	//this server doesn't actually exist, remove it
		name:"Example Server 2", //user friendly name for the server
		server:"//test2.example.com/", //URL to the server. // at the beginning will be replaced with http:// or https:// automatically
		dlURL:"garbage.php",  //path to download test on this server (garbage.php or replacement)
		ulURL:"empty.php",  //path to upload test on this server (empty.php or replacement)
		pingURL:"empty.php",  //path to ping/jitter test on this server (empty.php or replacement)
		getIpURL:"getIP.php"  //path to getIP on this server (getIP.php or replacement)
	}*/
	//add other servers here, comma separated
];

//INITIALIZE SPEEDTEST
var s=new Speedtest(); //create speed test object
s.setParameter("telemetry_level","basic"); //enable basic telemetry (for results sharing)

//SERVER AUTO SELECTION
function initServers(){
	if(SPEEDTEST_SERVERS.length==0){ //standalone installation
		//just make the UI visible immediately
		I("loading").className="hidden";
		I("serverArea").style.display="none";
		I("testWrapper").className="visible";
		initUI();
	}else{ //multiple servers
		var noServersAvailable=function(){
			I("message").textContent="No servers available";
		}
		var runServerSelect=function(){
			s.selectServer(function(server){
				if(server!=null){ //at least 1 server is available
					I("loading").className="hidden"; //hide loading message
					//populate server list for manual selection
					for(var i=0;i<SPEEDTEST_SERVERS.length;i++){
						if(SPEEDTEST_SERVERS[i].pingT==-1) continue;
						var option=document.createElement("option");
						option.value=i;
						option.textContent=SPEEDTEST_SERVERS[i].name;
						if(SPEEDTEST_SERVERS[i]===server) option.selected=true;
						I("server").appendChild(option);
					}
					//show test UI
					I("testWrapper").className="visible";
					initUI();
				}else{ //no servers are available, the test cannot proceed
					noServersAvailable();
				}
			});
		}
		if(typeof SPEEDTEST_SERVERS === "string"){
			//need to fetch list of servers from specified URL
			s.loadServerList(SPEEDTEST_SERVERS,function(servers){
				if(servers==null){ //failed to load server list
					noServersAvailable();
				}else{ //server list loaded
					SPEEDTEST_SERVERS=servers;
					runServerSelect();
				}
			});
		}else{
			//hardcoded server list
			s.addTestPoints(SPEEDTEST_SERVERS);
			runServerSelect();
		}
	}
}

var meterBk=/Trident.*rv:(\d+\.\d+)/i.test(navigator.userAgent)?"#EAEAEA":"#2A2D3A";
var dlColor="#0EE57F",
	ulColor="#0EE57F";
var progColor="#1A1D2A";

//CODE FOR GAUGES
function drawMeter(c,amount,bk,fg,progress,prog){
	var ctx=c.getContext("2d");
	var dp=window.devicePixelRatio||1;
	var cw=c.clientWidth*dp, ch=c.clientHeight*dp;
	var sizScale=ch*0.0055;
	if(c.width==cw&&c.height==ch){
		ctx.clearRect(0,0,cw,ch);
	}else{
		c.width=cw;
		c.height=ch;
	}
	
	// Configurações do medidor
	var centerX = c.width/2;
	var centerY = c.height-40*sizScale;
	var radius = c.height/2.2-20*sizScale;
	var startAngle = -Math.PI*1.1;
	var endAngle = Math.PI*0.1;
	
	// Fundo do medidor
	ctx.beginPath();
	ctx.strokeStyle=bk;
	ctx.lineWidth=8*sizScale;
	ctx.arc(centerX, centerY, radius, startAngle, endAngle);
	ctx.stroke();
	
	// Progresso do medidor
	ctx.beginPath();
	ctx.strokeStyle=fg;
	ctx.lineWidth=8*sizScale;
	ctx.arc(centerX, centerY, radius, startAngle, amount*Math.PI*1.2+startAngle);
	ctx.stroke();
	
	// Ponteiro
	if(amount > 0) {
		var pointerAngle = startAngle + amount*Math.PI*1.2;
		var pointerLength = radius - 10*sizScale;
		
		// Linha do ponteiro
		ctx.beginPath();
		ctx.strokeStyle = fg;
		ctx.lineWidth = 3*sizScale;
		ctx.moveTo(centerX, centerY);
		ctx.lineTo(
			centerX + Math.cos(pointerAngle) * pointerLength,
			centerY + Math.sin(pointerAngle) * pointerLength
		);
		ctx.stroke();
		
		// Círculo central
		ctx.beginPath();
		ctx.fillStyle = fg;
		ctx.arc(centerX, centerY, 6*sizScale, 0, Math.PI*2);
		ctx.fill();
		
		// Ponta do ponteiro
		ctx.beginPath();
		ctx.fillStyle = fg;
		ctx.arc(
			centerX + Math.cos(pointerAngle) * pointerLength,
			centerY + Math.sin(pointerAngle) * pointerLength,
			4*sizScale, 0, Math.PI*2
		);
		ctx.fill();
	}
	
	// Barra de progresso (opcional)
	if(typeof progress !== "undefined" && progress > 0){
		ctx.fillStyle=prog;
		ctx.fillRect(c.width*0.25,c.height-15*sizScale,c.width*0.5*progress,6*sizScale);
	}
}
function mbpsToAmount(s){
	return 1-(1/(Math.pow(1.3,Math.sqrt(s))));
}
function format(d){
    d=Number(d);
    if(d<10) return d.toFixed(2);
    if(d<100) return d.toFixed(1);
    return d.toFixed(0);
}

//UI CODE
var uiData=null;
function startStop(){
    if(s.getState()==3){
		//speed test is running, abort
		s.abort();
		data=null;
		I("startStopBtn").className="";
		I("server").disabled=false;
		initUI();
	}else{
		//test is not running, begin
		I("startStopBtn").className="running";
		I("shareArea").style.display="none";
		I("server").disabled=true;
		s.onupdate=function(data){
            uiData=data;
		};
		s.onend=function(aborted){
            I("startStopBtn").className="";
            I("server").disabled=false;
            updateUI(true);
            if(!aborted){
                //if testId is present, show sharing panel, otherwise do nothing
                try{
                    var testId=uiData.testId;
                    if(testId!=null){
                        var shareURL=window.location.href.substring(0,window.location.href.lastIndexOf("/"))+"/results/result.php?id="+testId;
                        var imageURL=window.location.href.substring(0,window.location.href.lastIndexOf("/"))+"/results/?id="+testId;
                        I("resultsImg").src=imageURL;
                        I("resultsURL").value=shareURL;
                        I("testId").textContent=testId;
                        I("shareArea").style.display="";
                    }
                }catch(e){}
            }
		};
		s.start();
	}
}
//this function reads the data sent back by the test and updates the UI
function updateUI(forced){
	if(!forced&&s.getState()!=3) return;
	if(uiData==null) return;
	var status=uiData.testState;
	I("ip").textContent=uiData.clientIp;
	I("dlText").textContent=(status==1&&uiData.dlStatus==0)?"...":format(uiData.dlStatus);
	drawMeter(I("dlMeter"),mbpsToAmount(Number(uiData.dlStatus*(status==1?oscillate():1))),meterBk,dlColor,Number(uiData.dlProgress),progColor);
	I("ulText").textContent=(status==3&&uiData.ulStatus==0)?"...":format(uiData.ulStatus);
	drawMeter(I("ulMeter"),mbpsToAmount(Number(uiData.ulStatus*(status==3?oscillate():1))),meterBk,ulColor,Number(uiData.ulProgress),progColor);
	I("pingText").textContent=format(uiData.pingStatus);
	I("jitText").textContent=format(uiData.jitterStatus);
}
function oscillate(){
	return 1+0.02*Math.sin(Date.now()/100);
}
//update the UI every frame
window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||(function(callback,element){setTimeout(callback,1000/60);});
function frame(){
	requestAnimationFrame(frame);
	updateUI();
}
frame(); //start frame loop
//function to (re)initialize UI
function initUI(){
	drawMeter(I("dlMeter"),0,meterBk,dlColor,0);
	drawMeter(I("ulMeter"),0,meterBk,ulColor,0);
	I("dlText").textContent="";
	I("ulText").textContent="";
	I("pingText").textContent="";
	I("jitText").textContent="";
	I("ip").textContent="";
}
</script>
<style type="text/css">
	@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
	
	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}
	
	html, body {
		height: 100%;
		background: #111424;
		font-family: 'Inter', sans-serif;
		color: #ffffff;
		overflow-x: hidden;
	}
	
	.container {
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		padding: 20px;
	}
	
	.header {
		text-align: center;
		margin-bottom: 50px;
	}
	
	.logo {
		height: 80px;
		margin-bottom: 20px;
	}
	
	.subtitle {
		color: rgba(255,255,255,0.7);
		font-size: 18px;
		font-weight: 300;
		letter-spacing: 0.5px;
	}
	
	.main-card {
		background: rgba(255,255,255,0.05);
		backdrop-filter: blur(20px);
		border: 1px solid rgba(14, 229, 127, 0.2);
		border-radius: 24px;
		padding: 50px;
		box-shadow: 0 25px 50px rgba(0,0,0,0.3);
		width: 100%;
		max-width: 1000px;
		text-align: center;
	}
	
	#loading {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 15px;
		font-size: 18px;
		color: rgba(255,255,255,0.8);
	}
	
	.spinner {
		width: 24px;
		height: 24px;
		border: 3px solid rgba(255,255,255,0.2);
		border-top: 3px solid #0EE57F;
		border-radius: 50%;
		animation: spin 1s linear infinite;
	}
	
	@keyframes spin {
		0% { transform: rotate(0deg); }
		100% { transform: rotate(360deg); }
	}
	
	#startStopBtn {
		background: linear-gradient(135deg, #0EE57F, #0BC96B);
		color: #111424;
		border: none;
		border-radius: 50px;
		padding: 18px 45px;
		font-size: 18px;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.3s ease;
		box-shadow: 0 8px 25px rgba(14, 229, 127, 0.3);
		margin-bottom: 40px;
		text-transform: uppercase;
		letter-spacing: 1px;
	}
	
	#startStopBtn:hover {
		transform: translateY(-3px);
		box-shadow: 0 12px 35px rgba(14, 229, 127, 0.4);
	}
	
	#startStopBtn:before {
		content: "Iniciar Teste";
	}
	
	#startStopBtn.running {
		background: linear-gradient(135deg, #FF4757, #FF3742);
		color: white;
		box-shadow: 0 8px 25px rgba(255, 71, 87, 0.3);
	}
	
	#startStopBtn.running:hover {
		transform: translateY(-3px);
		box-shadow: 0 12px 35px rgba(255, 71, 87, 0.4);
	}
	
	#startStopBtn.running:before {
		content: "Parar Teste";
	}
	
	.server-selection {
		margin-bottom: 50px;
		padding: 20px 30px;
		background: rgba(255,255,255,0.05);
		border: 1px solid rgba(255,255,255,0.1);
		border-radius: 16px;
		display: inline-block;
	}
	
	.server-selection label {
		font-weight: 500;
		margin-right: 15px;
		color: rgba(255,255,255,0.8);
	}
	
	.server-selection select {
		padding: 12px 18px;
		border: 2px solid rgba(255,255,255,0.2);
		border-radius: 12px;
		font-size: 16px;
		background: rgba(255,255,255,0.1);
		color: white;
		outline: none;
		transition: border-color 0.3s ease;
	}
	
	.server-selection select:focus {
		border-color: #0EE57F;
	}
	
	.metrics-container {
		display: flex;
		flex-direction: column;
		gap: 40px;
		margin-bottom: 40px;
	}
	
	.metrics-row {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 30px;
		justify-items: center;
	}
	
	.metric-card {
		background: rgba(255,255,255,0.05);
		border: 1px solid rgba(255,255,255,0.1);
		border-radius: 20px;
		padding: 20px;
		box-shadow: 0 8px 25px rgba(0,0,0,0.2);
		transition: all 0.3s ease;
		position: relative;
		overflow: visible;
		width: 100%;
		max-width: 280px;
	}
	
	.metric-card:hover {
		transform: translateY(-5px);
		border-color: rgba(14, 229, 127, 0.3);
		box-shadow: 0 12px 35px rgba(0,0,0,0.3);
	}
	
	.metric-card.large {
		min-height: 300px;
	}
	
	.metric-card.small {
		min-height: 180px;
	}
	
	.metric-title {
		font-size: 14px;
		font-weight: 600;
		color: rgba(255,255,255,0.6);
		text-transform: uppercase;
		letter-spacing: 2px;
		margin-bottom: 20px;
	}
	
	.metric-value {
		font-size: 42px;
		font-weight: 700;
		color: #0EE57F;
		margin-bottom: 10px;
		text-shadow: 0 2px 10px rgba(14, 229, 127, 0.3);
	}
	
	.metric-unit {
		font-size: 16px;
		color: rgba(255,255,255,0.5);
		font-weight: 500;
		text-transform: uppercase;
		letter-spacing: 1px;
	}
	
	.gauge-container {
		position: relative;
		width: 100%;
		height: 200px;
		padding: 10px;
	}
	
	.gauge-canvas {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
	}
	
	.gauge-value {
		position: absolute;
		bottom: 45px;
		left: 50%;
		transform: translateX(-50%);
		font-size: 32px;
		font-weight: 700;
		color: #0EE57F;
		text-shadow: 0 2px 10px rgba(14, 229, 127, 0.3);
	}
	
	.gauge-unit {
		position: absolute;
		bottom: 20px;
		left: 50%;
		transform: translateX(-50%);
		font-size: 14px;
		color: rgba(255,255,255,0.5);
		font-weight: 500;
		text-transform: uppercase;
		letter-spacing: 1px;
	}
	
	.ip-display {
		background: rgba(255,255,255,0.05);
		border: 1px solid rgba(255,255,255,0.1);
		border-radius: 16px;
		padding: 25px;
		margin-bottom: 30px;
		font-family: 'Monaco', 'Menlo', monospace;
		font-size: 16px;
		color: rgba(255,255,255,0.8);
	}
	
	.share-section {
		background: rgba(255,255,255,0.05);
		border: 1px solid rgba(255,255,255,0.1);
		border-radius: 20px;
		padding: 30px;
		margin-top: 30px;
	}
	
	.share-section h3 {
		margin-bottom: 20px;
		color: #ffffff;
		font-weight: 600;
	}
	
	.share-input {
		width: 100%;
		padding: 15px;
		border: 2px solid rgba(255,255,255,0.2);
		border-radius: 12px;
		font-size: 14px;
		background: rgba(255,255,255,0.1);
		color: white;
		margin-bottom: 20px;
		font-family: monospace;
		outline: none;
	}
	
	.privacy-link {
		color: rgba(255,255,255,0.6);
		text-decoration: none;
		font-size: 14px;
		margin-top: 30px;
		display: inline-block;
		transition: color 0.3s ease;
	}
	
	.privacy-link:hover {
		color: #0EE57F;
	}
	
	.privacy-modal {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0,0,0,0.9);
		display: flex;
		align-items: center;
		justify-content: center;
		z-index: 1000;
		padding: 20px;
	}
	
	.privacy-content {
		background: #1A1D2A;
		border: 1px solid rgba(14, 229, 127, 0.2);
		border-radius: 20px;
		padding: 40px;
		max-width: 600px;
		max-height: 80vh;
		overflow-y: auto;
		color: white;
	}
	
	.close-button {
		background: #0EE57F;
		color: #111424;
		border: none;
		border-radius: 12px;
		padding: 12px 24px;
		cursor: pointer;
		margin-top: 20px;
		font-weight: 600;
		transition: all 0.3s ease;
	}
	
	.close-button:hover {
		background: #0BC96B;
		transform: translateY(-2px);
	}
	
	@media (max-width: 768px) {
		.container {
			padding: 15px;
		}
		
		.logo {
			height: 60px;
		}
		
		.main-card {
			padding: 30px 25px;
		}
		
		.metrics-row {
			grid-template-columns: 1fr;
			gap: 25px;
		}
		
		.metric-card.large {
			min-height: 260px;
		}
		
		.privacy-content {
			padding: 30px 25px;
		}
	}
	
	.visible {
		display: block !important;
		animation: fadeIn 0.6s ease;
	}
	
	.hidden {
		display: none !important;
	}
	
	@keyframes fadeIn {
		from { opacity: 0; transform: translateY(30px); }
		to { opacity: 1; transform: translateY(0); }
	}
	
	.modal {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0,0,0,0.8);
		display: none;
		align-items: center;
		justify-content: center;
		z-index: 1000;
	}
	
	.modal-content {
		background: #1A1D2A;
		border: 1px solid rgba(14, 229, 127, 0.3);
		border-radius: 20px;
		padding: 30px;
		max-width: 400px;
		width: 90%;
		text-align: center;
		box-shadow: 0 20px 40px rgba(0,0,0,0.5);
	}
	
	.modal-title {
		font-size: 20px;
		font-weight: 600;
		color: #0EE57F;
		margin-bottom: 15px;
	}
	
	.modal-message {
		color: rgba(255,255,255,0.8);
		margin-bottom: 25px;
		line-height: 1.5;
	}
	
	.modal-close {
		background: #0EE57F;
		color: #111424;
		border: none;
		border-radius: 8px;
		padding: 10px 20px;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.3s ease;
	}
	
	.modal-close:hover {
		background: #0BC96B;
		transform: translateY(-2px);
	}
	
	.search-section {
		background: rgba(255,255,255,0.05);
		border: 1px solid rgba(255,255,255,0.1);
		border-radius: 20px;
		padding: 30px;
		margin-bottom: 30px;
	}
	
	.search-section h3 {
		margin-bottom: 20px;
		color: #ffffff;
		font-weight: 600;
		font-size: 18px;
	}
	
	.search-form {
		display: flex;
		gap: 15px;
		align-items: center;
		justify-content: center;
		flex-wrap: wrap;
	}
	
	.search-form input {
		flex: 1;
		min-width: 200px;
		padding: 12px 18px;
		border: 2px solid rgba(255,255,255,0.2);
		border-radius: 12px;
		font-size: 16px;
		background: rgba(255,255,255,0.1);
		color: white;
		outline: none;
		transition: border-color 0.3s ease;
	}
	
	.search-form input:focus {
		border-color: #0EE57F;
	}
	
	.search-form button {
		background: linear-gradient(135deg, #0EE57F, #0BC96B);
		color: #111424;
		border: none;
		border-radius: 12px;
		padding: 12px 24px;
		font-size: 16px;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.3s ease;
	}
	
	.search-form button:hover {
		transform: translateY(-2px);
		box-shadow: 0 8px 25px rgba(14, 229, 127, 0.3);
	}
</style>
<title>TI Remoto - Teste de Velocidade</title>
</head>
<body>
<div class="container">
	<div class="header">
		<img src=".logo/logo2.png" alt="TI Remoto" class="logo">
		<div class="subtitle">Teste de Velocidade da Internet</div>
	</div>
	
	<div class="main-card">
		<div id="loading" class="visible">
			<div class="spinner"></div>
			<span id="message">Selecionando servidor...</span>
		</div>
		
		<div id="testWrapper" class="hidden">
			<div id="startStopBtn" onclick="startStop()"></div>
			
			<div id="serverArea" class="server-selection">
				<label>Servidor:</label>
				<select id="server" onchange="s.setSelectedServer(SPEEDTEST_SERVERS[this.value])"></select>
			</div>
			
			<div class="metrics-container">
				<div class="metrics-row">
					<div class="metric-card small">
						<div class="metric-title">Ping</div>
						<div id="pingText" class="metric-value">0</div>
						<div class="metric-unit">ms</div>
					</div>
					
					<div class="metric-card small">
						<div class="metric-title">Jitter</div>
						<div id="jitText" class="metric-value">0</div>
						<div class="metric-unit">ms</div>
					</div>
				</div>
				
				<div class="metrics-row">
					<div class="metric-card large">
						<div class="metric-title">Download</div>
						<div class="gauge-container">
							<canvas id="dlMeter" class="gauge-canvas"></canvas>
							<div id="dlText" class="gauge-value">0.00</div>
							<div class="gauge-unit">Mbit/s</div>
						</div>
					</div>
					
					<div class="metric-card large">
						<div class="metric-title">Upload</div>
						<div class="gauge-container">
							<canvas id="ulMeter" class="gauge-canvas"></canvas>
							<div id="ulText" class="gauge-value">0.00</div>
							<div class="gauge-unit">Mbit/s</div>
						</div>
					</div>
				</div>
			</div>
			
			<div id="ipArea" class="ip-display">
				<strong>Seu IP:</strong> <span id="ip">Detectando...</span>
			</div>
			
			<div class="search-section">
				<h3>Buscar Resultado</h3>
				<div class="search-form">
					<input type="text" id="searchId" placeholder="Digite o ID do teste" />
					<button onclick="searchResult()">Buscar</button>
				</div>
			</div>
			
			<div id="shareArea" class="share-section" style="display:none">
				<h3>Compartilhar Resultados</h3>
				<p>ID do Teste: <span id="testId"></span></p>
				<input type="text" class="share-input" id="resultsURL" readonly onclick="copyShareLink()"/>
				<img src="" id="resultsImg" style="max-width:100%; border-radius:12px;"/>
			</div>
		</div>
	</div>
	
	<a href="#" class="privacy-link" onclick="I('privacyPolicy').style.display='flex'">Política de Privacidade</a>
</div>

<div id="modal" class="modal">
	<div class="modal-content">
		<div id="modalTitle" class="modal-title"></div>
		<div id="modalMessage" class="modal-message"></div>
		<button class="modal-close" onclick="closeModal()">OK</button>
	</div>
</div>

<div id="privacyPolicy" class="privacy-modal" style="display:none">
	<div class="privacy-content">
		<h2>Política de Privacidade</h2>
		<p>Este servidor de teste de velocidade HTML5 está configurado com telemetria habilitada.</p>
		<h4>Quais dados coletamos</h4>
		<ul>
			<li>ID do teste</li>
			<li>Horário do teste</li>
			<li>Resultados do teste (velocidade de download e upload, ping e jitter)</li>
			<li>Endereço IP</li>
			<li>Informações do ISP</li>
			<li>Localização aproximada (inferida do endereço IP, não GPS)</li>
			<li>User agent e locale do navegador</li>
			<li>Log do teste (não contém informações pessoais)</li>
		</ul>
		<h4>Como usamos os dados</h4>
		<ul>
			<li>Permitir o compartilhamento dos resultados do teste</li>
			<li>Melhorar o serviço oferecido (detectar problemas)</li>
		</ul>
		<p>Nenhuma informação pessoal é divulgada a terceiros.</p>
		<h4>Seu consentimento</h4>
		<p>Ao iniciar o teste, você consente com os termos desta política de privacidade.</p>
		<button class="close-button" onclick="I('privacyPolicy').style.display='none'">Fechar</button>
	</div>
</div>

<script>
// Funções do modal
function copyShareLink() {
	var input = I('resultsURL');
	input.select();
	input.setSelectionRange(0, 99999);
	
	try {
		document.execCommand('copy');
		showModal('Link Copiado!', 'O link foi copiado para a área de transferência com sucesso.');
	} catch (err) {
		showModal('Erro', 'Não foi possível copiar o link. Tente selecionar e copiar manualmente.');
	}
}

function showModal(title, message) {
	I('modalTitle').textContent = title;
	I('modalMessage').textContent = message;
	I('modal').style.display = 'flex';
}

function closeModal() {
	I('modal').style.display = 'none';
}

// Função para buscar resultado por ID
function searchResult() {
	var searchId = I('searchId').value.trim();
	if (searchId === '') {
		showModal('Campo Vazio', 'Por favor, digite um ID de teste para buscar.');
		return;
	}
	
	// Redirecionar para a página de resultado
	var resultURL = window.location.href.substring(0, window.location.href.lastIndexOf('/')) + '/results/result.php?id=' + encodeURIComponent(searchId);
	window.open(resultURL, '_blank');
}

// Permitir busca com Enter
document.addEventListener('DOMContentLoaded', function() {
	var searchInput = I('searchId');
	if (searchInput) {
		searchInput.addEventListener('keypress', function(e) {
			if (e.key === 'Enter') {
				searchResult();
			}
		});
	}
});

// Inicializar quando a página carregar
window.onload = function() {
	initServers();
};
</script>
</body>
</html>